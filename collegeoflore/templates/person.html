{% extends 'layout.html' %}

{% block head %}
{{ super() }}

<link rel="stylesheet" type="text/css" href="{{ static('css/person.css') }}" />
{% endblock %}


{% block content %}
<h1 id="first_heading" class="first_heading">
    {% for item in names %}
    {{ item }}
    {% endfor %}

    {% if last_name != None %}
    {{ last_name }}
    {% endif %}
</h1>
<article>
    <!-- Name -->
    {{ names[0] }}

    <!-- Epithet one -->
    {% if infobox.biographical_info.epithet|length == 1 and infobox.biographical_info.epithet[0] != None %}
    "{{ infobox.biographical_info.epithet[0] }}"

    <!-- Epithet rmany -->
    {% elif infobox.biographical_info.epithet|length > 1 %}
    ( "{{ infobox.biographical_info.epithet[0] }}"
    {% for item in infobox.biographical_info.epithet[1:] %}
    | "{{ item }}"
    {% endfor %}
    )
    {% endif %}

    <!-- Second Names -->
    {% if names|length > 1 %}
    {% for item in names[1:] %}
    {{ item }}
    {% endfor %}
    {% endif %}

    <!-- Lastname -->
    {% if last_name is defined %}
    {{ last_name }}
    {% endif %}

    <!-- Also known as -->
    {% if infobox.biographical_info.alias|length > 0 and infobox.biographical_info.alias[0] != None %}
    , manchen bekannt als {{ infobox.biographical_info.alias }},
    {% endif %}
</article>


<!--Infobox-->
<aside id="person_infobox" class="infobox">
    {% for category_name, category_dict in infobox.items() %}
    <!--only create category entry if dict is not empty-->
        {% if category_dict is mapping and category_dict|length > 0 %}
        <section class="infobox_section">
            <h4 class="infobox_section_header">{{ translate(category_name) }}</h4>
            {% for info_name, info_value in category_dict.items() %}
                <!--only create section entry if value is not none and not empty-->
                {% if info_value is not sequence and info_value != None or info_value is sequence and info_value|length > 0 %}
                    <div class="section_entry border_bottom">
                        <div class="section_entry_name">{{ translate(info_name) }}</div>
                        <!--string/int representation-->
                        {% if info_value is string or info_value is integer%}
                            <div class="section_entry_value">{{ info_value }}</div>
                        <!--list representation-->
                        {% elif info_value is sequence %}
                            <ul class="infobox_list">
                                {% for point in info_value %}
                                    <li>{{ point }}</li>
                                {% endfor %}
                            </ul>
                        {% endif %}
                    </div>
                {% endif %}
            {% endfor %}
        </section>
        {% endif %}
    {% endfor %}
</aside>

<!--Articles-->
{% for article_name, article_text in articles.items() %}
{% if article_text is defined %}
<div class="article_block">
    <!--TODO translator function based on locale-->
    <h2 class="article_block_heading">{{ translate(article_name) }}</h2>
    <article class="article_block_text">
        {{ article_text }}
    </article>
</div>
{% endif %}
{% endfor %}

<!--Misc-->
{% if misc|length > 0 %}
<div id="misc_block" class="article_block">
    <h2 id="misc_heading" class="article_block_heading">Misc</h2>
    <ul id="misc_block_list" class="misc_block_list">
        {% for point in misc %}
        <li>{{ point }}</li>
        {% endfor %}
    </ul>
</div>
{% endif %}

{% endblock %}



{% block scripts %}
{{ super() }}

{% endblock %}